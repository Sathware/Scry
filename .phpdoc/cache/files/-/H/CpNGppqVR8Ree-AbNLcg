1668750834
waR3U4bTeM%3A2a524880b4d504a3da21007051e59146-30cf0773ae3823901444b9fb57a3fb9c
s:20316:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxMjp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjMwY2YwNzczYWUzODIzOTAxNDQ0YjlmYjU3YTNmYjljIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6OToiYWRtaW4ucGhwIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHBhdGgiO3M6OToiYWRtaW4ucGhwIjtzOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHNvdXJjZSI7czoxNDQ2MzoiPCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbi11cyI+DQoNCjxoZWFkPg0KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPg0KICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wIj4NCiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1DaW56ZWx8Q2luemVsK0RlY29yYXRpdmV8TWFyY2VsbHVzJmRpc3BsYXk9c3dhcCIgLz4NCiAgICA8bGluayBocmVmPSJJbmRleExheW91dC5jc3MiIHJlbD0ic3R5bGVzaGVldCIgLz4NCiAgICA8bGluayBocmVmPSJhcHBzLmNzcyIgcmVsPSJzdHlsZXNoZWV0IiAvPg0KICAgIDwhLS1Tb3VyY2UgRmlsZXMtLT4NCiAgICA8c2NyaXB0IHNyYz0iYXBwcy5qcyI+PC9zY3JpcHQ+DQogICAgPHNjcmlwdCBzcmM9ImFwcHJlcXVlc3QuanMiPjwvc2NyaXB0Pg0KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2tpdC5mb250YXdlc29tZS5jb20vYjlhMjdjNDNjZS5qcyIgY3Jvc3NvcmlnaW49ImFub255bW91cyI+PC9zY3JpcHQ+DQogICAgPHN0eWxlPg0KICAgICAgICBsaTpob3Zlcg0KICAgICAgICB7DQogICAgICAgICAgICBjdXJzb3I6cG9pbnRlcjsNCiAgICAgICAgfQ0KICAgIDwvc3R5bGU+DQogICAgPHRpdGxlPkFkbWluIC0gU2NyeTwvdGl0bGU+DQo8L2hlYWQ+DQoNCjxib2R5Pg0KICAgIDxkaXYgaWQ9InVzZXJJbnB1dHRlZE5hbWUiIGhpZGRlbj4NCiAgICAgICAgPD9waHANCiAgICAgICAgICAgIGVjaG8gJF9HRVRbInVzZXJuYW1lIl07DQogICAgICAgID8+DQogICAgPC9kaXY+DQogICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O21hcmdpbi10b3A6IDMwdmg7Ij4NCiAgICAgICAgPGxhYmVsPkFwcCBSZXF1ZXN0czwvbGFiZWw+DQogICAgICAgIDx1bD4NCiAgICAgICAgICAgIDw/cGhwDQogICAgICAgICAgICAgICAgLy9Fc3RhYmxpc2ggQ29ubmVjdGlvbg0KICAgICAgICAgICAgICAgICRjb25uID0gbmV3IG15c3FsaSgibG9jYWxob3N0OjMzMDYiLCAicGhwIiwgInRlc3RwYXNzd29yZCIsICJzY3J5Iik7DQogICAgICAgICAgICAgICAgLy9DaGVjayBDb25uZWN0aW9uIGFuZCBzdG9wIGlmIGludmFsaWQNCiAgICAgICAgICAgICAgICBpZiAoJGNvbm4tPmNvbm5lY3RfZXJyb3IpIA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgZGllKCJDb25uZWN0aW9uIGZhaWxlZDogIiAuICRjb25uLT5jb25uZWN0X2Vycm9yKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAkYXBwcmVxdWVzdHMgPSAkY29ubi0+cXVlcnkoIlNFTEVDVCAqIEZST00gYXBwX3JlcXVlc3Q7Iik7DQogICAgICAgICAgICAgICAgd2hpbGUgKCRyZXF1ZXN0ID0gJGFwcHJlcXVlc3RzLT5mZXRjaF9hc3NvYygpKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgZWNobyAiPGxpIG9uY2xpY2s9J2Rpc3BsYXlSZXF1ZXN0KHRoaXMpOycgY2xhc3M9J3JlcXVlc3QnIHVzZXJuYW1lPSciLiRyZXF1ZXN0WyJ1c2VybmFtZSJdLiInIGpzb249JyIuJHJlcXVlc3RbImpzb24iXS4iJz5SZXF1ZXN0IEJ5OiAiLiRyZXF1ZXN0WyJ1c2VybmFtZSJdLiIgYXQgLSAiLiRyZXF1ZXN0WyJkYXRlIl0uIjwvbGk+IjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICA/Pg0KICAgICAgICA8L3VsPg0KICAgIDwvZGl2Pg0KDQogICAgPGRpdiBpZD0ib3ZlcmxheSIgb25jbGljaz0iZGlzbWlzcyhldmVudCk7Ij4NCiAgICAgICAgPGRpdiBpZD0iYXBwcmVxdWVzdCIgb25jbGljaz0iZHVtbXlEaXNtaXNzKGV2ZW50KTsiPg0KICAgICAgICAgICAgPGRpdiBpZD0iYXBwcmVxdWVzdGlucHV0Ij4NCiAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9IiI+QXBwIE5hbWU8L2xhYmVsPg0KICAgICAgICAgICAgICAgIDxkaXYgb25rZXl1cD0idXBkYXRlTmFtZSh0aGlzLmlubmVyVGV4dCk7IiBjbGFzcz0icmVxdWVzdGRpdiIgY29udGVudGVkaXRhYmxlPjwvZGl2Pg0KDQogICAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPSIiPlByaWNlPC9sYWJlbD4NCiAgICAgICAgICAgICAgICA8aW5wdXQgb25jaGFuZ2U9InVwZGF0ZVByaWNlKHRoaXMudmFsdWUpOyIgdHlwZT0ibnVtYmVyIiBtaW49IjAiIG1heD0iNTAidmFsdWU9IjAiPg0KDQogICAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPSIiPkRlc2NyaXB0aW9uPC9sYWJlbD4NCiAgICAgICAgICAgICAgICA8ZGl2IG9ua2V5dXA9InVwZGF0ZURlc2ModGhpcy5pbm5lclRleHQpOyIgY2xhc3M9InJlcXVlc3RkaXYiIGNvbnRlbnRlZGl0YWJsZT48L2Rpdj4NCg0KICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT0iIj5BcHAgSW1hZ2UgVVJMPC9sYWJlbD4NCiAgICAgICAgICAgICAgICA8ZGl2IG9ua2V5dXA9InVwZGF0ZUltZyh0aGlzLmlubmVyVGV4dCk7IiBjbGFzcz0icmVxdWVzdGRpdiIgY29udGVudGVkaXRhYmxlPjwvZGl2Pg0KDQogICAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPSIiPkRldmVsb3BlcjwvbGFiZWw+DQogICAgICAgICAgICAgICAgPGRpdiBvbmtleXVwPSJ1cGRhdGVEZXYodGhpcy5pbm5lclRleHQpOyIgY2xhc3M9InJlcXVlc3RkaXYiIGNvbnRlbnRlZGl0YWJsZT48L2Rpdj4NCg0KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiByb3c7IGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDsgd2lkdGg6IDUwdnc7Ij4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0icG9zaXRpb246IHJlbGF0aXZlOyBtaW4td2lkdGg6IDQ1JTsiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJzZWxlY3RvckxhYmVsIiBvbmNsaWNrPSJkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVxdWVzdENhdGVnb3JpZXNDb250YWluZXInKS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTsiPkNhdGVnb3JpZXMgPGkgY2xhc3M9J2ZhcyBmYS1jYXJldC1kb3duJz4gPC9pPjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZWxlY3Rpb25Db250YWluZXIiIGlkPSJyZXF1ZXN0Q2F0ZWdvcmllc0NvbnRhaW5lciI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJ0ZXh0UmVxdWVzdENhdGVnb3J5IiBvbmtleXVwPSJmaWx0ZXJSZXF1ZXN0Q2F0ZWdvcnkodGhpcy52YWx1ZSk7IiBzdHlsZT0iYm94LXNpemluZzpib3JkZXItYm94OyBwb3NpdGlvbjpzdGlja3k7IHRvcDogMDsiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBpZD0icmVxdWVzdGNhdGVnb3JpZXMiIGNsYXNzPSJyZXF1ZXN0c2VsZWN0b3IiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1F1ZXJ5IGRhdGFiYXNlIGZvciBhbGwgY2F0ZWdvcmllcw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHF1ZXJ5ID0gIlNFTEVDVCAqIEZST00gY2F0ZWdvcnk7IjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyZXN1bHQgPSAkY29ubi0+cXVlcnkoJHF1ZXJ5KTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCRjYXRlZ29yeSA9ICRyZXN1bHQtPmZldGNoX2Fzc29jKCkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAiPGxpIG9uY2xpY2s9J3RvZ2dsZVJlcXVlc3RDYXRlZ29yeSh0aGlzKTsnIGNsYXNzPSdMaXN0aW5nJz4iOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gJGNhdGVnb3J5WyJuYW1lIl07DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAiPC9saT4iOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0icG9zaXRpb246IHJlbGF0aXZlOyBtaW4td2lkdGg6IDQ1JTsiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJzZWxlY3RvckxhYmVsIiBvbmNsaWNrPSJkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVxdWVzdFBsYXRmb3Jtc0NvbnRhaW5lcicpLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpOyI+UGxhdGZvcm1zIDxpIGNsYXNzPSdmYXMgZmEtY2FyZXQtZG93bic+IDwvaT48L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VsZWN0aW9uQ29udGFpbmVyIiBpZD0icmVxdWVzdFBsYXRmb3Jtc0NvbnRhaW5lciI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJ0ZXh0UmVxdWVzdFBsYXRmb3JtIiBvbmtleXVwPSJmaWx0ZXJSZXF1ZXN0UGxhdGZvcm0odGhpcy52YWx1ZSk7IiBzdHlsZT0iYm94LXNpemluZzpib3JkZXItYm94OyBwb3NpdGlvbjpzdGlja3k7IHRvcDogMDsiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBpZD0icmVxdWVzdHBsYXRmb3JtcyIgY2xhc3M9InJlcXVlc3RzZWxlY3RvciI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vUXVlcnkgZGF0YWJhc2UgZm9yIGFsbCBjYXRlZ29yaWVzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcXVlcnkgPSAiU0VMRUNUICogRlJPTSBwbGF0Zm9ybTsiOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJlc3VsdCA9ICRjb25uLT5xdWVyeSgkcXVlcnkpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoJHBsYXRmb3JtID0gJHJlc3VsdC0+ZmV0Y2hfYXNzb2MoKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlY2hvICI8bGkgb25jbGljaz0ndG9nZ2xlUmVxdWVzdFBsYXRmb3JtKHRoaXMpOycgY2xhc3M9J0xpc3RpbmcnPiI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAkcGxhdGZvcm1bIm5hbWUiXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlY2hvICI8L2xpPiI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iYnV0dG9uIiBjbGFzcz0ic2NyeWJ0biIgdmFsdWU9IkFwcHJvdmUiIG9uY2xpY2s9ImFwcHJvdmVyZXF1ZXN0KCk7Ij4NCiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iYnV0dG9uIiBjbGFzcz0ic2NyeWJ0biIgdmFsdWU9IkRlbnkiIG9uY2xpY2s9ImRlbnlyZXF1ZXN0KCk7Ij4NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICA8ZGl2IGlkPSJwcmV2aWV3Ij4NCiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogcm93OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24tc2VsZjogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyI+DQogICAgICAgICAgICAgICAgICAgIDxoMSBpZD0icHJldmlld2hlYWRlciI+PC9oMT4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0icHJldmlld3BsYXRmb3JtcyI+PC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4OyBmbGV4LWRpcmVjdGlvbjogcm93OyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7IGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7Ij4NCiAgICAgICAgICAgICAgICAgICAgPGltZyBpZD0icHJldmlld2ltZyIgc3JjPSJibGFuay5wbmciPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogZmxleC1zdGFydDsiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGlkPSJwcmV2aWV3Y2F0ZWdvcmllcyI+PC91bD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5EZXNjcmlwdGlvbjogPC9oMz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGlkPSJwcmV2aWV3ZGVzYyI+PC9wPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJwbGF0Zm9ybXZlcnNpb24iPjwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KPC9ib2R5Pg0KDQo8c2NyaXB0Pg0KICAgIHZhciBvcmlnaW5hbEpTT04gPSAiIjsNCiAgICB2YXIgY3VycmVudHJlcXVlc3QgPSBudWxsOw0KICAgIGZ1bmN0aW9uIGR1bW15RGlzbWlzcyhlKQ0KICAgIHsNCiAgICAgICAgbGV0IHggPSBlLmN1cnJlbnRUYXJnZXQuaWQ7DQogICAgICAgIGlmICh4LnZhbHVlT2YoKSA9PSAiYXBwZGF0YSIgfHwgeC52YWx1ZU9mKCkgPT0gImFwcHJlcXVlc3QiKQ0KICAgICAgICB7DQogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZGlzbWlzcyhlKQ0KICAgIHsNCiAgICAgICAgbGV0IHggPSBlLmN1cnJlbnRUYXJnZXQuaWQ7DQogICAgICAgIGlmICh4LnZhbHVlT2YoKSA9PSAib3ZlcmxheSIpDQogICAgICAgIHsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvdmVybGF5IikuY2xhc3NMaXN0LnJlbW92ZSgiYWN0aXZlIik7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXBwcmVxdWVzdCIpLmNsYXNzTGlzdC5yZW1vdmUoImFjdGl2ZSIpOw0KICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJhdXRvIjsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGRpc3BsYXlOZXdDYXRlZ29yaWVzKCkNCiAgICB7DQogICAgICAgIGxldCBjYXRlZ29yaWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlcXVlc3RjYXRlZ29yaWVzIikuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpIik7DQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2F0ZWdvcmllcy5sZW5ndGg7IGkrKykNCiAgICAgICAgew0KICAgICAgICAgICAgY2F0ZWdvcmllc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCJhY3RpdmUiKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJldmlld0FwcC5jYXRlZ29yaWVzLmxlbmd0aDsgaSsrKS8vcHJldmlld0FwcCBjYXRlZ29yaWVzIGxlbmd0aCB3aWxsIGFsd2F5cyBiZSBncmVhdGVyDQogICAgICAgIHsNCiAgICAgICAgICAgIGxldCBub3RJbkNhdGVnb3JpZXMgPSB0cnVlOw0KICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IG5vdEluQ2F0ZWdvcmllcyAmJiBrIDwgY2F0ZWdvcmllcy5sZW5ndGg7IGsrKykNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBub3RJbkNhdGVnb3JpZXMgPSAhKGNhdGVnb3JpZXNba10uaW5uZXJUZXh0LnRvVXBwZXJDYXNlKCkgPT0gcHJldmlld0FwcC5jYXRlZ29yaWVzW2ldLnRvVXBwZXJDYXNlKCkpOw0KDQogICAgICAgICAgICAgICAgaWYgKCFub3RJbkNhdGVnb3JpZXMgJiYgIWNhdGVnb3JpZXNba10uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNba10uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAobm90SW5DYXRlZ29yaWVzKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZXF1ZXN0Y2F0ZWdvcmllcyIpLmlubmVySFRNTCArPSAiPGxpIG9uY2xpY2s9J3RvZ2dsZVJlcXVlc3RDYXRlZ29yeSh0aGlzKTsnIGNsYXNzPSdjYXRlZ29yeUxpc3RpbmcgYWN0aXZlJz4iICsgcHJldmlld0FwcC5jYXRlZ29yaWVzW2ldICsgIjwvbGk+IjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGRpc3BsYXlOZXdQbGF0Zm9ybXMoKQ0KICAgIHsNCiAgICAgICAgbGV0IHBsYXRmb3JtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZXF1ZXN0cGxhdGZvcm1zIikuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpIik7DQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxhdGZvcm1zLmxlbmd0aDsgaSsrKQ0KICAgICAgICB7DQogICAgICAgICAgICBwbGF0Zm9ybXNbaV0uY2xhc3NMaXN0LnJlbW92ZSgiYWN0aXZlIik7DQogICAgICAgIH0NCg0KICAgICAgICBwcmV2aWV3QXBwLnBsYXRmb3Jtcy5mb3JFYWNoKCAvL3ByZXZpZXdBcHAgY2F0ZWdvcmllcyBsZW5ndGggd2lsbCBhbHdheXMgYmUgZ3JlYXRlcg0KICAgICAgICAgICAgZnVuY3Rpb24gKHZlcnNpb25zLCBwbGF0Zm9ybSkvL1BsYXRmb3JtIHN0b3JlZCBpbiBwcmV2aWV3QXBwIG5vdCBpbiB1bCBsaXN0DQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgbGV0IG5vdEluUGxhdGZvcm1zID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgbm90SW5QbGF0Zm9ybXMgJiYgayA8IHBsYXRmb3Jtcy5sZW5ndGg7IGsrKykNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIG5vdEluUGxhdGZvcm1zID0gISggKHBsYXRmb3Jtc1trXS5pbm5lclRleHQudG9VcHBlckNhc2UoKSA9PSBwbGF0Zm9ybS50b1VwcGVyQ2FzZSgpKSB8fCAocGxhdGZvcm1zW2tdLmlubmVySFRNTC50b1VwcGVyQ2FzZSgpID09IHBsYXRmb3JtLnRvVXBwZXJDYXNlKCkpICk7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFub3RJblBsYXRmb3JtcyAmJiAhcGxhdGZvcm1zW2tdLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXRmb3Jtc1trXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmIChub3RJblBsYXRmb3JtcykNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZXF1ZXN0cGxhdGZvcm1zIikuaW5uZXJIVE1MICs9ICI8bGkgb25jbGljaz0ndG9nZ2xlUmVxdWVzdFBsYXRmb3JtKHRoaXMpOycgY2xhc3M9J0xpc3RpbmcgYWN0aXZlJz4iICsgcGxhdGZvcm0gKyAiPC9saT4iOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBkaXNwbGF5VmVyc2lvblRhYmxlcygpDQogICAgew0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGxhdGZvcm12ZXJzaW9uIikuaW5uZXJIVE1MID0gIiI7Ly9yZXNldHMgdmVyc2lvbiB0YWJsZXMNCiAgICAgICAgcHJldmlld0FwcC5wbGF0Zm9ybXMuZm9yRWFjaCgNCiAgICAgICAgICAgIGZ1bmN0aW9uKHZlcnNpb25zLCBwbGF0Zm9ybSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBsZXQgbmV3dGFibGUgPSBhZGRWZXJzaW9uc1RhYmxlKHBsYXRmb3JtKTsNCiAgICAgICAgICAgICAgICB2ZXJzaW9ucy5mb3JFYWNoKA0KICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodXJsLCB2ZXJzaW9uKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3cm93ID0gYWRkVmVyc2lvblJvdyhuZXd0YWJsZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBuZXdyb3cuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRkIilbMF0uaW5uZXJUZXh0ID0gdmVyc2lvbjsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5ld3Jvdy5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKVsxXS5pbm5lclRleHQgPSB1cmw7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgfQ0KICAgICAgICApOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGRpc3BsYXlSZXF1ZXN0KHJlcXVlc3QpDQogICAgew0KICAgICAgICBjdXJyZW50cmVxdWVzdCA9IHJlcXVlc3Q7DQogICAgICAgIG9yaWdpbmFsSlNPTiA9IHJlcXVlc3QuZ2V0QXR0cmlidXRlKCJqc29uIik7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvdmVybGF5IikuY2xhc3NMaXN0LmFkZCgiYWN0aXZlIik7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhcHByZXF1ZXN0IikuY2xhc3NMaXN0LmFkZCgiYWN0aXZlIik7DQogICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsNCg0KICAgICAgICBsZXQgdGVtcE9iaiA9IEpTT04ucGFyc2UocmVxdWVzdC5nZXRBdHRyaWJ1dGUoImpzb24iKSwgcmV2aXZlcik7DQoNCiAgICAgICAgcHJldmlld0FwcC5uYW1lID0gdGVtcE9iai5uYW1lOw0KICAgICAgICBwcmV2aWV3QXBwLnByaWNlID0gdGVtcE9iai5wcmljZTsNCiAgICAgICAgcHJldmlld0FwcC5kZXNjID0gdGVtcE9iai5kZXNjOw0KICAgICAgICBwcmV2aWV3QXBwLmRldiA9IHRlbXBPYmouZGV2Ow0KICAgICAgICBwcmV2aWV3QXBwLmltZ3VybCA9IHRlbXBPYmouaW1ndXJsOw0KICAgICAgICBwcmV2aWV3QXBwLmNhdGVnb3JpZXMgPSB0ZW1wT2JqLmNhdGVnb3JpZXM7DQogICAgICAgIHByZXZpZXdBcHAucGxhdGZvcm1zID0gdGVtcE9iai5wbGF0Zm9ybXM7DQoNCiAgICAgICAgbGV0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXBwcmVxdWVzdGlucHV0Iik7DQogICAgICAgIGxldCBlZGl0YWJsZXMgPSBmb3JtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKTsNCiAgICAgICAgZWRpdGFibGVzWzBdLmlubmVyVGV4dCA9IHByZXZpZXdBcHAubmFtZTsNCiAgICAgICAgZWRpdGFibGVzWzFdLmlubmVyVGV4dCA9IHByZXZpZXdBcHAuZGVzYzsNCiAgICAgICAgZWRpdGFibGVzWzJdLmlubmVyVGV4dCA9IHByZXZpZXdBcHAuaW1ndXJsOw0KICAgICAgICBlZGl0YWJsZXNbM10uaW5uZXJUZXh0ID0gcHJldmlld0FwcC5kZXY7DQoNCiAgICAgICAgZm9ybS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVswXS52YWx1ZSA9IHByZXZpZXdBcHAucHJpY2U7DQoNCiAgICAgICAgZGlzcGxheU5ld0NhdGVnb3JpZXMoKTsNCiAgICAgICAgZGlzcGxheU5ld1BsYXRmb3JtcygpOw0KICAgICAgICBkaXNwbGF5VmVyc2lvblRhYmxlcygpOw0KDQogICAgICAgIGRpc3BsYXlQcmV2aWV3KCk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYXBwcm92ZXJlcXVlc3QoKQ0KICAgIHsNCiAgICAgICAgbGV0IHVzZXJOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVzZXJJbnB1dHRlZE5hbWUiKS5pbm5lclRleHQudHJpbSgpOw0KICAgICAgICB2YXIgeG1saHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOw0KICAgICAgICB4bWxodHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT0gNCAmJiB0aGlzLnN0YXR1cyA9PSAyMDApDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzcG9uc2VUZXh0ID09ICJlcnJvciIpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBhbGVydCgiQXBwcm92ZSBGYWlsZWQiKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIlN1Y2Nlc3NmdWxseSBhcHByb3ZlZCBhcHAgcmVxdWVzdCIpOw0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3ZlcmxheSIpLmNsYXNzTGlzdC5yZW1vdmUoImFjdGl2ZSIpOw0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXBwcmVxdWVzdCIpLmNsYXNzTGlzdC5yZW1vdmUoImFjdGl2ZSIpOw0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImF1dG8iOw0KICAgICAgICAgICAgICAgICAgICBjdXJyZW50cmVxdWVzdC5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgICAgICAgY3VycmVudHJlcXVlc3QgPSBudWxsOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAgICAgbGV0IHBhcmFtcyA9ICJhY3Rpb249YXBwcm92ZSZ1c2VybmFtZT0iK3VzZXJOYW1lKyImb3JpZ2pzb249IitvcmlnaW5hbEpTT04rIiZhcHBqc29uPSIrSlNPTi5zdHJpbmdpZnkocHJldmlld0FwcCwgcmVwbGFjZXIpOw0KICAgICAgICB4bWxodHRwLm9wZW4oIlBPU1QiLCAicmVxdWVzdGp1ZGdtZW50LnBocCIsIHRydWUpOy8vISEhISEhISEhISEhQ0hBTkdFIFVSTCAhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhDQogICAgICAgIHhtbGh0dHAuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpOw0KICAgICAgICB4bWxodHRwLnNlbmQocGFyYW1zKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBkZW55cmVxdWVzdCgpDQogICAgew0KICAgICAgICBsZXQgdXNlck5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidXNlcklucHV0dGVkTmFtZSIpLmlubmVyVGV4dC50cmltKCk7DQogICAgICAgIHZhciB4bWxodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7DQogICAgICAgIHhtbGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSA0ICYmIHRoaXMuc3RhdHVzID09IDIwMCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNwb25zZVRleHQgPT0gImVycm9yIikNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJEZW55IEZhaWxlZCIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBhbGVydCgiU3VjY2Vzc2Z1bGx5IHJlbW92ZWQgYXBwIHJlcXVlc3QiKTsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm92ZXJsYXkiKS5jbGFzc0xpc3QucmVtb3ZlKCJhY3RpdmUiKTsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFwcHJlcXVlc3QiKS5jbGFzc0xpc3QucmVtb3ZlKCJhY3RpdmUiKTsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJhdXRvIjsNCiAgICAgICAgICAgICAgICAgICAgY3VycmVudHJlcXVlc3QucmVtb3ZlKCk7DQogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRyZXF1ZXN0ID0gbnVsbDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIGxldCBwYXJhbXMgPSAiYWN0aW9uPWRlbGV0ZSZ1c2VybmFtZT0iK3VzZXJOYW1lKyImb3JpZ2pzb249IitvcmlnaW5hbEpTT047DQogICAgICAgIHhtbGh0dHAub3BlbigiUE9TVCIsICJyZXF1ZXN0anVkZ21lbnQucGhwIiwgdHJ1ZSk7Ly8hISEhISEhISEhISFDSEFOR0UgVVJMICEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISENCiAgICAgICAgeG1saHR0cC5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7DQogICAgICAgIHhtbGh0dHAuc2VuZChwYXJhbXMpOw0KICAgIH0NCjwvc2NyaXB0Pg0KDQo8L2h0bWw+IjtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWVzcGFjZXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW5jbHVkZXMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZnVuY3Rpb25zIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNvbnN0YW50cyI7YTowOnt9czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjbGFzc2VzIjthOjA6e31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGludGVyZmFjZXMiO2E6MDp7fXM6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAdHJhaXRzIjthOjA6e319";